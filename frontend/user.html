<!DOCTYPE html>
<html lang="vi">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Phong bì đặc biệt</title>
    <style>
        body {
            font-family: 'Arial', sans-serif;
            background-color: #f5f5f5;
            background-image: url('../Gemini_Generated_Image_12b6bf12b6bf12b6.jpg');
            background-size: cover;
            background-position: center;
            display: flex;
            justify-content: center;
            align-items: center;
            height: 100vh;
            margin: 0;
            overflow: hidden;
        }

        /* Phong bì */
        .envelope {
            width: 300px;
            height: 200px;
            background-color: #ff6f61;
            position: relative;
            border-radius: 5px;
            cursor: pointer;
            box-shadow: 0 4px 10px rgba(0, 0, 0, 0.3);
            transition: transform 0.3s;
            z-index: 2;
        }

        .envelope:hover {
            transform: scale(1.05);
        }

        .envelope:before {
            content: '';
            position: absolute;
            top: 0;
            width: 0;
            height: 0;
            border-left: 150px solid transparent;
            border-right: 150px solid transparent;
            border-top: 100px solid #ff3d3d;
            transform-origin: top;
            transition: all 0.3s ease-in-out;
            z-index: 3;
        }

        .envelope.open:before {
            transform: rotateX(180deg);
            z-index: 0;
        }

        .envelope:after {
            content: '';
            position: absolute;
            bottom: 0;
            width: 0;
            height: 0;
            border-left: 150px solid transparent;
            border-right: 150px solid transparent;
            border-bottom: 100px solid #ff8a80;
            z-index: 2;
        }

        .heart {
            position: absolute;
            top: 50%;
            left: 50%;
            transform: translate(-50%, -50%);
            width: 50px;
            height: 50px;
            background-color: red;
            clip-path: path('M24.5 3.5c-5.5 0-10 4.5-10 10 0 5.5 10 15 10 15s10-9.5 10-15c0-5.5-4.5-10-10-10z');
        }

        .envelope-content {
            position: absolute;
            width: 90%;
            height: 90%;
            background: white;
            top: 5%;
            left: 5%;
            border-radius: 2px;
            z-index: 1;
            display: flex;
            justify-content: center;
            align-items: center;
            font-size: 24px;
            color: #333;
            text-align: center;
            padding: 10px;
            box-sizing: border-box;
        }

        /* Bức thư */
        .letter-container {
            background-color: #fff;
            width: 80%;
            max-width: 600px;
            padding: 30px;
            border-radius: 10px;
            box-shadow: 0 4px 20px rgba(0, 0, 0, 0.2);
            position: absolute;
            border: 1px solid #e0e0e0;
            transform: scale(0);
            opacity: 0;
            transition: all 0.5s ease-in-out;
            z-index: 1;
        }

        .letter-container.show {
            transform: scale(1);
            opacity: 1;
        }

        .letter-header {
            text-align: center;
            margin-bottom: 20px;
            color: #333;
        }

        .letter-content {
            line-height: 1.6;
            font-size: 18px;
            color: #444;
            min-height: 200px;
            border-top: 1px solid #eee;
            padding-top: 20px;
            white-space: pre-wrap;
        }

        .signature {
            font-style: italic;
            margin-top: 30px;
            text-align: right;
            color: #666;
        }

        .cursor {
            display: inline-block;
            width: 2px;
            height: 20px;
            background-color: #333;
            animation: blink 0.7s infinite;
            vertical-align: middle;
        }

        @keyframes blink {
            0%, 100% { opacity: 1; }
            50% { opacity: 0; }
        }

        .stamp {
            position: absolute;
            top: 20px;
            right: 20px;
            width: 60px;
            opacity: 0.8;
        }

        /* Hiệu ứng xé phong bì */
        .tear-effect {
            position: absolute;
            width: 100%;
            height: 100%;
            top: 0;
            left: 0;
            pointer-events: none;
            z-index: 10;
        }

        .tear {
            position: absolute;
            width: 20px;
            height: 20px;
            background-color: #e74c3c;
            border-radius: 50%;
            transform: scale(0);
            opacity: 0;
        }
    </style>
</head>
<body>
    <div class="envelope">
        <div class="heart"></div>
        <div class="envelope-content">Mở thư</div>
    </div>

    <div class="letter-container" id="letter-container">
        <img src="https://cdn.pixabay.com/photo/2017/01/31/23/42/decorative-2028039_640.png" alt="Tem thư" class="stamp">
        <div class="letter-header">
            <h2>Thư gửi bạn ❤️</h2>
            <p>Ngày <span id="current-date"></span></p>
        </div>
        <div class="letter-content" id="letter-text"></div>
        <div class="signature" id="signature"></div>
    </div>

    <script>
        document.addEventListener('DOMContentLoaded', function() {
            const envelope = document.querySelector('.envelope');
            const letterContainer = document.getElementById('letter-container');
            
            // Hiển thị ngày hiện tại
            const today = new Date();
            const dateStr = today.getDate() + '/' + (today.getMonth() + 1) + '/' + today.getFullYear();
            document.getElementById('current-date').textContent = dateStr;

            // Nội dung bức thư
            const letterContent = "Gửi bạn thân mến,\n\nHôm nay mình viết thư này để gửi đến bạn những lời chúc tốt đẹp nhất. Dù chúng ta có thể không gặp nhau thường xuyên, nhưng tình bạn của chúng ta vẫn luôn bền chặt.\n\nHy vọng bạn luôn mạnh khỏe, hạnh phúc và thành công trong cuộc sống. Hãy luôn giữ liên lạc nhé!\n\nTrân trọng,";
            const signature = "Người bạn của bạn";

            const letterElement = document.getElementById('letter-text');
            const signatureElement = document.getElementById('signature');
            
            // Hiệu ứng mở phong bì
            envelope.addEventListener('click', function() {
                // Thêm class open để mở phong bì
                this.classList.add('open');
                
                // Tạo hiệu ứng xé phong bì
                createTearEffect();
                
                // Ẩn phong bì sau khi mở
                setTimeout(() => {
                    this.style.display = 'none';
                    letterContainer.classList.add('show');
                    
                    // Bắt đầu hiệu ứng đánh máy
                    setTimeout(typeWriter, 1000);
                }, 1000);
            });

            // Tạo hiệu ứng xé phong bì
            function createTearEffect() {
                for (let i = 0; i < 20; i++) {
                    setTimeout(() => {
                        const tear = document.createElement('div');
                        tear.className = 'tear';
                        
                        // Random vị trí
                        const x = Math.random() * envelope.offsetWidth;
                        const y = Math.random() * envelope.offsetHeight;
                        
                        // Random kích thước
                        const size = Math.random() * 30 + 10;
                        
                        // Random màu
                        const colors = ['#e74c3c', '#c0392b', '#d35400', '#e67e22'];
                        const color = colors[Math.floor(Math.random() * colors.length)];
                        
                        tear.style.left = `${x}px`;
                        tear.style.top = `${y}px`;
                        tear.style.width = `${size}px`;
                        tear.style.height = `${size}px`;
                        tear.style.backgroundColor = color;
                        
                        envelope.appendChild(tear);
                        
                        // Hiệu ứng xuất hiện rồi biến mất
                        setTimeout(() => {
                            tear.style.transform = 'scale(1)';
                            tear.style.opacity = '0.8';
                            
                            setTimeout(() => {
                                tear.style.transform = 'scale(0.5) translate(' + 
                                    (Math.random() * 100 - 50) + 'px, ' + 
                                    (Math.random() * 100 - 50) + 'px)';
                                tear.style.opacity = '0';
                                
                                setTimeout(() => {
                                    tear.remove();
                                }, 300);
                            }, 200);
                        }, 10);
                    }, i * 50);
                }
            }

            // Hiệu ứng đánh máy
            let i = 0;
            let j = 0;
            const speed = 30;

            function typeWriter() {
                if (i < letterContent.length) {
                    if (letterElement.querySelector('.cursor')) {
                        letterElement.removeChild(letterElement.querySelector('.cursor'));
                    }
                    
                    letterElement.innerHTML += letterContent.charAt(i);
                    i++;
                    
                    const cursor = document.createElement('span');
                    cursor.className = 'cursor';
                    letterElement.appendChild(cursor);
                    
                    setTimeout(typeWriter, speed);
                } else {
                    if (letterElement.querySelector('.cursor')) {
                        letterElement.removeChild(letterElement.querySelector('.cursor'));
                    }
                    typeSignature();
                }
            }

            function typeSignature() {
                if (j < signature.length) {
                    if (signatureElement.querySelector('.cursor')) {
                        signatureElement.removeChild(signatureElement.querySelector('.cursor'));
                    }
                    
                    signatureElement.innerHTML += signature.charAt(j);
                    j++;
                    
                    const cursor = document.createElement('span');
                    cursor.className = 'cursor';
                    signatureElement.appendChild(cursor);
                    
                    setTimeout(typeSignature, speed);
                } else {
                    if (signatureElement.querySelector('.cursor')) {
                        signatureElement.removeChild(signatureElement.querySelector('.cursor'));
                    }
                }
            }
        });
    </script>
</body>
</html>